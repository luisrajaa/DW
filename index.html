<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GearRent Pro - Professional Equipment Rental</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF6B00;
            --primary-dark: #E05D00;
            --primary-light: #FF983D;
            --secondary: #00AAFF;
            --secondary-dark: #0088CC;
            --white: #FFFFFF;
            --light-bg: #F5F5F5;
            --card-bg: #FFFFFF;
            --dark-text: #212121;
            --medium-text: #555555;
            --light-text: #757575;
            --border: #E0E0E0;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #F44336;
            --header-height: 60px;
            --nav-height: 50px;
            --shadow: 0 1px 4px rgba(0,0,0,0.1);
            --card-shadow: 0 2px 6px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: var(--light-bg);
            color: var(--dark-text);
            padding-top: calc(var(--header-height) + var(--nav-height));
            line-height: 1.6;
        }

        /* Header Styles */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background-color: var(--primary);
            color: white;
            z-index: 100;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            padding: 0 16px;
        }

        .header-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: 10px;
            font-size: 26px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 107, 0, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .cart-btn {
            position: relative;
            color: white;
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -6px;
            right: -8px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Navigation */
        .category-nav {
            position: fixed;
            top: var(--header-height);
            left: 0;
            right: 0;
            height: var(--nav-height);
            background-color: var(--white);
            z-index: 99;
            box-shadow: var(--shadow);
            overflow-x: auto;
            white-space: nowrap;
            padding: 0 16px;
            display: flex;
            align-items: center;
        }

        .category-nav::-webkit-scrollbar {
            display: none;
        }

        .category-tab {
            display: inline-block;
            padding: 8px 16px;
            margin: 0 4px;
            border-radius: 20px;
            color: var(--light-text);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .category-tab.active {
            background: rgba(255, 107, 0, 0.1);
            color: var(--primary);
            font-weight: 600;
        }

        .category-tab:not(.active):hover {
            background: #F5F5F5;
        }

        /* Main Content */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Search and Filters */
        .search-filter-container {
            background-color: var(--white);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .search-filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }

        .form-group {
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-size: 14px;
            color: var(--medium-text);
            font-weight: 500;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 14px;
            transition: var(--transition);
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 107, 0, 0.2);
        }

        .search-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 16px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            align-self: flex-end;
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 107, 0, 0.4);
        }

        /* Equipment Grid */
        .section-title {
            font-size: 20px;
            font-weight: 600;
            margin: 24px 0 16px;
            color: var(--dark-text);
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border);
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 16px;
        }

        .equipment-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
        }

        .equipment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .equipment-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(transparent 60%, rgba(0,0,0,0.5));
            opacity: 0;
            transition: opacity 0.3s;
        }

        .equipment-card:hover::after {
            opacity: 1;
        }

        .card-image {
            width: 100%;
            height: 140px;
            background-color: #f1f1f1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-text);
            position: relative;
        }

        .stock-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            z-index: 1;
        }

        .in-stock {
            background-color: var(--success);
        }

        .low-stock {
            background-color: var(--warning);
        }

        .out-of-stock {
            background-color: var(--danger);
        }

        .card-content {
            padding: 16px;
            position: relative;
            z-index: 1;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 6px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 44px;
        }

        .card-details {
            font-size: 13px;
            color: var(--medium-text);
            margin-bottom: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 36px;
        }

        .card-price {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
            transition: var(--transition);
        }

        .equipment-card:hover .card-price {
            color: white;
            transform: translateY(-5px);
        }

        .quantity-control {
            display: flex;
            align-items: center;
            background: #F5F5F5;
            border-radius: 24px;
            padding: 4px;
            width: fit-content;
        }

        .quantity-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: white;
            border: 1px solid var(--border);
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .quantity-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quantity-input {
            width: 40px;
            text-align: center;
            border: none;
            background: transparent;
            font-weight: 600;
        }

        /* Customer Info Section (Hidden by default) */
        .customer-info-section {
            background-color: var(--white);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            display: none;
            position: relative;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .section-header h2 {
            font-size: 20px;
            color: var(--primary);
        }

        /* Checkout Form */
        .checkout-form {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
        }

        .checkout-form .form-group {
            margin-bottom: 16px;
        }

        .checkout-form .form-group.full-width {
            grid-column: span 2;
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 420px;
            height: 100vh;
            background-color: var(--white);
            z-index: 101;
            box-shadow: -2px 0 12px rgba(0,0,0,0.15);
            transition: right 0.3s;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-title {
            font-size: 20px;
            font-weight: 600;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: var(--light-text);
            transition: var(--transition);
        }

        .close-cart:hover {
            color: var(--dark-text);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .cart-item {
            display: flex;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background-color: #f1f1f1;
            border-radius: 4px;
            margin-right: 16px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-text);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .cart-item-desc {
            font-size: 13px;
            color: var(--medium-text);
            margin-bottom: 6px;
        }

        .cart-item-price {
            font-size: 16px;
            color: var(--primary);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
        }

        .cart-item-remove {
            color: var(--danger);
            font-size: 13px;
            margin-top: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .cart-item-remove:hover {
            text-decoration: underline;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
        }

        .cart-summary {
            margin-bottom: 20px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .summary-label {
            color: var(--medium-text);
        }

        .summary-value {
            font-weight: 500;
        }

        .grand-total {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border);
        }

        .checkout-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 107, 0, 0.4);
        }

        .checkout-btn:active {
            transform: translateY(0);
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 16px;
            color: var(--medium-text);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            color: var(--border);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--primary);
            color: white;
            padding: 14px 24px;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 102;
            transform: translateX(200%);
            transition: transform 0.3s;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Floating Action Button (Mobile) */
        .fab-button {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            transition: var(--transition);
        }

        .fab-button:hover {
            transform: translateY(-3px);
        }

        .fab-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 90px;
            right: 24px;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-to-top.visible {
            opacity: 1;
        }

        /* Loading Spinner */
        .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-left: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        /* Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 100;
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .chatbot-button:hover {
            transform: scale(1.1);
        }

        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 300px;
            height: 400px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            overflow: hidden;
            display: none;
            flex-direction: column;
        }

        .chatbot-window.open {
            display: flex;
        }

        .chatbot-header {
            background: var(--secondary);
            color: white;
            padding: 12px 16px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }

        .chatbot-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }

        .chatbot-message {
            margin-bottom: 12px;
            padding: 8px 12px;
            border-radius: 12px;
            max-width: 80%;
        }

        .bot-message {
            background: #f1f1f1;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .user-message {
            background: var(--secondary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .chatbot-input {
            display: flex;
            padding: 12px;
            border-top: 1px solid var(--border);
        }

        .chatbot-input input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 20px;
            outline: none;
        }

        .chatbot-send {
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            margin-left: 8px;
            cursor: pointer;
        }

        .quick-questions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 12px;
        }

        .quick-question {
            background: #f1f1f1;
            padding: 8px 12px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 13px;
            transition: var(--transition);
        }

        .quick-question:hover {
            background: #e0e0e0;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .search-filter-grid {
                grid-template-columns: 1fr;
            }
            
            .equipment-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }
            
            .card-image {
                height: 120px;
            }

            .checkout-form .form-group.full-width {
                grid-column: span 1;
            }
        }

        @media (max-width: 480px) {
            .header-container {
                padding: 0 12px;
            }
            
            .logo {
                font-size: 18px;
            }
            
            .logo-icon {
                font-size: 22px;
            }
            
            .cart-btn {
                font-size: 20px;
            }
            
            .category-tab {
                padding: 0 12px;
                font-size: 14px;
            }
            
            .main-container {
                padding: 16px 12px;
            }

            .chatbot-window {
                width: 280px;
                height: 380px;
                right: -20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-speaker logo-icon"></i>
                <span>GearRent Pro</span>
            </div>
            <div class="header-actions">
                <button class="btn btn-primary" id="customerInfoBtn">
                    <i class="fas fa-user"></i> Customer Info
                </button>
                <button class="cart-btn" id="openCart">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Category Navigation -->
    <nav class="category-nav">
        <div class="category-tab active" data-category="all">All Items</div>
        <div class="category-tab" data-category="speakers">Speakers</div>
        <div class="category-tab" data-category="lighting">Lighting</div>
        <div class="category-tab" data-category="dj">DJ Equipment</div>
        <div class="category-tab" data-category="microphones">Microphones</div>
        <div class="category-tab" data-category="accessories">Accessories</div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Search and Filters -->
        <div class="search-filter-container">
            <div class="search-filter-grid">
                <div class="form-group">
                    <label for="equipmentSearch">Search Equipment</label>
                    <input type="text" id="equipmentSearch" placeholder="Type to search...">
                </div>
                <div class="form-group">
                    <label for="categoryFilter">Category</label>
                    <select id="categoryFilter">
                        <option value="">All Categories</option>
                        <option value="speakers">Speakers</option>
                        <option value="lighting">Lighting</option>
                        <option value="dj">DJ Equipment</option>
                        <option value="microphones">Microphones</option>
                        <option value="accessories">Accessories</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="availabilityFilter">Availability</label>
                    <select id="availabilityFilter">
                        <option value="">All Availability</option>
                        <option value="in-stock">In Stock</option>
                        <option value="low-stock">Low Stock</option>
                    </select>
                </div>
                <button class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
        </div>

        <!-- Customer Information Section (Hidden by default) -->
        <div class="customer-info-section" id="customerInfoSection">
            <div class="section-header">
                <h2>Customer Information</h2>
                <button class="close-cart" id="closeCustomerInfo">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="checkout-form">
                <div class="form-group">
                    <label for="checkoutName">Full Name*</label>
                    <input type="text" id="checkoutName" required>
                </div>
                <div class="form-group">
                    <label for="checkoutPhone">WhatsApp Number*</label>
                    <input type="tel" id="checkoutPhone" required>
                </div>
                <div class="form-group">
                    <label for="checkoutCategory">Category</label>
                    <input type="text" id="checkoutCategory" readonly>
                </div>
                <div class="form-group">
                    <label for="checkoutItem">Item Name</label>
                    <input type="text" id="checkoutItem" readonly>
                </div>
                <div class="form-group">
                    <label for="checkoutQuantity">Quantity</label>
                    <input type="number" id="checkoutQuantity" readonly>
                </div>
                <div class="form-group">
                    <label for="checkoutDate">Rental Date*</label>
                    <input type="date" id="checkoutDate" required>
                </div>
                <div class="form-group">
                    <label for="checkoutDuration">Rental Duration (Days)*</label>
                    <input type="number" id="checkoutDuration" min="1" value="1" required>
                </div>
                <div class="form-group full-width">
                    <label for="checkoutAddress">Full Delivery Address*</label>
                    <textarea id="checkoutAddress" rows="2" required></textarea>
                </div>
                <div class="form-group full-width">
                    <label for="checkoutMap">Google Maps Link (URL)</label>
                    <input type="url" id="checkoutMap" placeholder="https://maps.google.com/...">
                </div>
                <div class="form-group full-width">
                    <label for="checkoutNotes">Additional Notes (Optional)</label>
                    <textarea id="checkoutNotes" rows="3"></textarea>
                </div>
                <div class="form-group full-width">
                    <button class="checkout-btn" id="confirmOrder">
                        <span class="btn-text">Confirm Order</span>
                        <div class="spinner hidden"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Equipment Sections -->
        <div class="category-section active" id="all-section">
            <h2 class="section-title">Featured Equipment</h2>
            <div class="equipment-grid" id="featured-equipment">
                <!-- Featured items will be loaded here -->
            </div>
        </div>

        <!-- Speakers Section -->
        <div class="category-section" id="speakers-section">
            <h2 class="section-title">Active Speakers</h2>
            <div class="equipment-grid" id="active-speakers">
                <!-- Active speakers will be loaded here -->
            </div>

            <h2 class="section-title">Passive Systems</h2>
            <div class="equipment-grid" id="passive-speakers">
                <!-- Passive speakers will be loaded here -->
            </div>

            <h2 class="section-title">Mixers</h2>
            <div class="equipment-grid" id="speaker-mixers">
                <!-- Mixers will be loaded here -->
            </div>
        </div>

        <!-- Lighting Section -->
        <div class="category-section" id="lighting-section">
            <h2 class="section-title">Lighting Equipment</h2>
            <div class="equipment-grid" id="lighting-equipment">
                <!-- Lighting equipment will be loaded here -->
            </div>

            <h2 class="section-title">Lighting Controllers</h2>
            <div class="equipment-grid" id="lighting-controllers">
                <!-- Lighting controllers will be loaded here -->
            </div>
        </div>

        <!-- DJ Equipment Section -->
        <div class="category-section" id="dj-section">
            <h2 class="section-title">DJ Players</h2>
            <div class="equipment-grid" id="dj-players">
                <!-- DJ players will be loaded here -->
            </div>

            <h2 class="section-title">DJ Mixers</h2>
            <div class="equipment-grid" id="dj-mixers">
                <!-- DJ mixers will be loaded here -->
            </div>

            <h2 class="section-title">Samplers & Turntables</h2>
            <div class="equipment-grid" id="dj-samplers">
                <!-- Samplers will be loaded here -->
            </div>
        </div>

        <!-- Microphones Section -->
        <div class="category-section" id="microphones-section">
            <h2 class="section-title">Microphones & IEM</h2>
            <div class="equipment-grid" id="microphones">
                <!-- Microphones will be loaded here -->
            </div>
        </div>

        <!-- Accessories Section -->
        <div class="category-section" id="accessories-section">
            <h2 class="section-title">Balloons</h2>
            <div class="equipment-grid" id="balloons">
                <!-- Balloons will be loaded here -->
            </div>

            <h2 class="section-title">Fog & Effects</h2>
            <div class="equipment-grid" id="fog-effects">
                <!-- Fog effects will be loaded here -->
            </div>

            <h2 class="section-title">DJ Tables</h2>
            <div class="equipment-grid" id="dj-tables">
                <!-- DJ tables will be loaded here -->
            </div>

            <h2 class="section-title">Screens</h2>
            <div class="equipment-grid" id="screens">
                <!-- Screens will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="cart-title">Your Rental Cart</h3>
            <button class="close-cart" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-shopping-cart empty-icon"></i>
                <p>Your cart is empty</p>
                <p>Add some equipment to get started</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-summary">
                <div class="summary-row">
                    <span class="summary-label">Subtotal:</span>
                    <span class="summary-value" id="cartSubtotal">$0.00</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Rental Duration:</span>
                    <span class="summary-value" id="rentalDuration">1 day</span>
                </div>
                <div class="summary-row grand-total">
                    <span>Total:</span>
                    <span id="cartTotal">$0.00</span>
                </div>
            </div>
            <button class="checkout-btn" id="checkoutBtn">
                <i class="fas fa-shopping-cart"></i> Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Floating Action Button (Mobile) -->
    <button class="fab-button" id="fabCart">
        <i class="fas fa-shopping-cart"></i>
        <span class="fab-badge">0</span>
    </button>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <span>GearRent Assistant</span>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chatbot-message bot-message">
                    Hello! I'm your GearRent assistant. How can I help you today?
                </div>
                <div class="quick-questions">
                    <div class="quick-question" data-question="What's the rental process?">What's the rental process?</div>
                    <div class="quick-question" data-question="How do I pay for my rental?">How do I pay for my rental?</div>
                    <div class="quick-question" data-question="What's your cancellation policy?">What's your cancellation policy?</div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Type your question...">
                <button class="chatbot-send" id="chatbotSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        <button class="chatbot-button" id="chatbotButton">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Notification -->
    <div class="notification" id="notification">Item added to cart!</div>

    <script>
        // Enhanced equipment data with prices and details
        const equipmentData = {
            speakers: {
                active: [
                    { id: "IN0085", name: "M12", details: "1000W Active Speaker", price: 75, stock: 2 },
                    { id: "LD-Icoa-15", name: "LD Icoa 15", details: "1500W Active Speaker", price: 85, stock: 8 },
                    { id: "IN0094", name: "LD Icoa 12", details: "1200W Active Speaker", price: 75, stock: 4 },
                    { id: "IN0095", name: "LD ICOA 18 Sub", details: "1800W Subwoofer", price: 100, stock: 4 },
                    { id: "IN0096", name: "LD ICOA 15 Sub", details: "1500W Subwoofer", price: 90, stock: 2 },
                    { id: "IN0097", name: "DRM Mackie Top", details: "Full-range Speaker", price: 110, stock: 2 },
                    { id: "IN0098", name: "DRM Mackie Sub", details: "Powered Subwoofer", price: 120, stock: 2 },
                    { id: "IN0099", name: "Audio Center SA312", details: "300W Speaker", price: 60, stock: 2 },
                    { id: "IN0114", name: "LD Maui", details: "Column Array System", price: 150, stock: 2 },
                    { id: "IN0123", name: "FBT Ventis 110A", details: "High-end Speaker", price: 130, stock: 1 },
                    { id: "IN0132", name: "X10 Top", details: "1000W Top Speaker", price: 80, stock: 8 },
                    { id: "IN0133", name: "X10 Sub", details: "1000W Subwoofer", price: 90, stock: 8 },
                    { id: "IN0232", name: "M1 Monitor", details: "Stage Monitor", price: 50, stock: 2 }
                ],
                passive: [
                    { id: "IN0100", name: "Void Venue 210i Top", details: "Passive Top Speaker", price: 65, stock: 2 },
                    { id: "IN0101", name: "Void Venue 210i Sub", details: "Passive Subwoofer", price: 85, stock: 1 },
                    { id: "IN0102", name: "CELTO CSW 218", details: "Dual 18\" Subwoofer", price: 120, stock: 4 },
                    { id: "IN0103", name: "CELTO FT 15", details: "15\" Full-range", price: 70, stock: 4 },
                    { id: "IN0105", name: "AD Sub 18A", details: "18\" Subwoofer", price: 95, stock: 2 },
                    { id: "IN0107", name: "G-Acoustic BR 115", details: "15\" Speaker", price: 110, stock: 2 },
                    { id: "IN0110", name: "K12", details: "12\" Speaker", price: 75, stock: 2 },
                    { id: "IN0108", name: "Vela Top", details: "Line Array Top", price: 140, stock: 16 },
                    { id: "IN0109", name: "Vela Bumper", details: "Line Array Sub", price: 160, stock: 4 }
                ],
                mixers: [
                    { id: "Yamaha-Mixer", name: "Yamaha Mixer", details: "16-channel Analog", price: 80, stock: 1 },
                    { id: "Mixer-SQ6", name: "Mixer SQ6", details: "Digital Mixer", price: 150, stock: 1 },
                    { id: "AD-Live-20", name: "AD Live 20 Pro", details: "Digital Mixer", price: 120, stock: 1 }
                ]
            },
            lighting: {
                equipment: [
                    { id: "IN0033", name: "Mini-B", details: "Moving Head", price: 45, stock: 24 },
                    { id: "IN0187", name: "XMLite Beam 260", details: "Beam Light", price: 55, stock: 8 },
                    { id: "IN0197", name: "Bat-4", details: "LED Par Can", price: 25, stock: 36 },
                    { id: "IN0199", name: "Avolites Quartz", details: "Moving Head", price: 65, stock: 2 },
                    { id: "IN0195", name: "Laser 3 Watt", details: "Laser Projector", price: 75, stock: 4 },
                    { id: "IN0196", name: "Laser 5 Watt Old", details: "High-power Laser", price: 90, stock: 1 },
                    { id: "IN0206", name: "Watter Effect", details: "Water Effect Light", price: 40, stock: 8 },
                    { id: "IN0207", name: "Chauvet 4Bar", details: "LED Bar", price: 50, stock: 2 },
                    { id: "IN0208", name: "Chauvet Gigabar", details: "LED Bar", price: 60, stock: 2 },
                    { id: "IN0209", name: "Corner LED Stick", details: "LED Stick", price: 30, stock: 3 },
                    { id: "IN0426", name: "Laser 5W", details: "Laser Alignment fail", price: 85, stock: 2 },
                    { id: "IN0476", name: "Dj Light", details: "for dj table Q-Lite", price: 20, stock: 2 },
                    { id: "IN0424", name: "EZLink Par Q6 BT", details: "Chauvet", price: 35, stock: 5 },
                    { id: "IN0034", name: "Nano", details: "Mini Moving Head", price: 40, stock: 16 },
                    { id: "IN0035", name: "Laser 5 Watt", details: "High-power Laser", price: 90, stock: 8 },
                    { id: "IN0425", name: "Abyss USB", details: "Chauvet", price: 25, stock: 2 }
                ],
                controllers: [
                    { id: "IN0039", name: "Avolite Sapphire", details: "Touch Plus", price: 100, stock: 1 },
                    { id: "IN0040", name: "MA 2.5", details: "Lighting Console", price: 200, stock: 1 },
                    { id: "IN0262", name: "Wolfmix", details: "DMX Controller", price: 80, stock: 1 },
                    { id: "IN0202", name: "Avolites Arena", details: "Lighting Console", price: 180, stock: 1 },
                    { id: "IN0203", name: "Avolite Titan Prozessor", details: "Processing Unit", price: 150, stock: 1 }
                ]
            },
            dj: {
                players: [
                    { id: "IN0235", name: "Denon SC5000", details: "Professional Media Player", price: 90, stock: 2 },
                    { id: "IN0252", name: "Pioneer CDJ2000nxs", details: "Industry Standard Player", price: 100, stock: 2 },
                    { id: "IN0237", name: "Pioneer RX3", details: "All-in-one DJ System", price: 120, stock: 1 }
                ],
                mixers: [
                    { id: "IN0236", name: "Denon X1800", details: "4-channel DJ Mixer", price: 80, stock: 1 },
                    { id: "IN0240", name: "Pioneer DJM V10", details: "6-channel Professional Mixer", price: 150, stock: 2 },
                    { id: "IN0242", name: "XONE", details: "4-channel Analog Mixer", price: 90, stock: 1 },
                    { id: "IN0254", name: "Pioneer DJM S11", details: "Performance Mixer", price: 130, stock: 1 },
                    { id: "IN0247", name: "Pioneer DJM 900NXS", details: "4-channel Club Mixer", price: 110, stock: 1 }
                ],
                samplers: [
                    { id: "IN0256", name: "Technics SL 1220", details: "Professional Turntable", price: 70, stock: 2 },
                    { id: "IN0257", name: "Technics SL 1220", details: "Limited Edition Turntable", price: 85, stock: 2 },
                    { id: "IN0245", name: "Pioneer DJS 1000", details: "Standalone Sampler", price: 95, stock: 1 }
                ]
            },
            microphones: [
                { id: "IN0079", name: "Headset Phaselab", details: "Wireless Headset Microphone", price: 40, stock: 4 },
                { id: "IN0080", name: "IEM Headset", details: "In-Ear Monitor System", price: 60, stock: 8 },
                { id: "IN0081", name: "Handheld Mic", details: "Wireless Handheld Microphone Set", price: 30, stock: 8 },
                { id: "IN0082", name: "Bodypack", details: "Wireless Bodypack Microphone Set", price: 35, stock: 8 },
                { id: "IN0083", name: "Lavelier Mic", details: "Clip-on Lavalier Microphone Set", price: 25, stock: 8 },
                { id: "IN0084", name: "Headset Mic", details: "Headset Microphone Set", price: 45, stock: 8 },
                { id: "IN0250", name: "AKAI APC 40 mk2", details: "MIDI Controller", price: 70, stock: 1 },
                { id: "IN0259", name: "Pioneer RMX 1000", details: "Effects Unit", price: 80, stock: 1 },
                { id: "IN0292", name: "Drumset Mic AKG", details: "Drum Microphone Set", price: 120, stock: 2 },
                { id: "IN0294", name: "Phaselab Ultimate Microphone", details: "4-microphone Set", price: 150, stock: 2 },
                { id: "IN0320", name: "Shure Mix 58", details: "Vocal Microphone", price: 40, stock: 6 },
                { id: "IN0321", name: "Shure Mic 57", details: "Instrument Microphone", price: 35, stock: 1 }
            ],
            accessories: {
                balloons: [
                    { id: "IN0181", name: "Balloon", details: "60cm Latex Balloon", price: 15, stock: 9 },
                    { id: "IN0182", name: "Balloon", details: "90cm Latex Balloon", price: 20, stock: 9 },
                    { id: "IN0183", name: "Balloon", details: "1.2m Foil Balloon", price: 30, stock: 3 },
                    { id: "IN0184", name: "Balloon", details: "1.5m Foil Balloon", price: 40, stock: 5 },
                    { id: "IN0185", name: "Balloon", details: "2m Giant Balloon", price: 60, stock: 3 },
                    { id: "IN0186", name: "Balloon", details: "3m Giant Balloon", price: 90, stock: 2 }
                ],
                fog: [
                    { id: "IN0204", name: "Thanos", details: "Professional Hazer", price: 50, stock: 2 },
                    { id: "IN0225", name: "Fazer Liquid", details: "Fog Fluid (1L)", price: 10, stock: 22 },
                    { id: "IN0226", name: "Hazer Liquid", details: "Haze Fluid (1L)", price: 12, stock: 45 },
                    { id: "IN0227", name: "Pro-PW Bubble", details: "Bubble Fluid (1L)", price: 8, stock: 40 },
                    { id: "IN0228", name: "Pro-V Fog", details: "Fog Fluid (1L)", price: 10, stock: 34 },
                    { id: "IN0377", name: "DJP WP-2", details: "Bubble Fog Machine", price: 45, stock: 2 },
                    { id: "IN0378", name: "DJP DSK-1600", details: "Swing Fog Machine", price: 55, stock: 8 },
                    { id: "IN0477", name: "Fog Machine", details: "FY-1500 Professional Fogger", price: 60, stock: 1 }
                ],
                tables: [
                    { id: "IN0112", name: "Modular DJ Table", details: "2-piece Set", price: 80, stock: 1 },
                    { id: "IN0200", name: "Simple Table", details: "Small DJ Table", price: 30, stock: 2 },
                    { id: "IN0201", name: "Simple Table", details: "Large DJ Table", price: 50, stock: 1 },
                    { id: "IN0229", name: "Big DJ Table", details: "Professional DJ Booth", price: 100, stock: 1 },
                    { id: "IN0010", name: "DJ-Table", details: "Table with Integrated Screen", price: 120, stock: 3 }
                ],
                screens: [
                    { id: "IN0011", name: "Screen", details: "Tabletop Projection Screen", price: 40, stock: 1 },
                    { id: "IN0070", name: "LED-Screen", details: "White Frame LED Panel", price: 150, stock: 3 },
                    { id: "IN0071", name: "P5-LED Screen", details: "Black Frame LED Panel", price: 200, stock: 7 },
                    { id: "IN0238", name: "LED Panel", details: "Single LED Panel", price: 80, stock: 24 }
                ]
            }
        };

        // Chatbot knowledge base
        const chatbotKnowledge = {
            "rental process": "Our rental process is simple: 1) Browse equipment, 2) Add to cart, 3) Fill out the checkout form, 4) We'll confirm your order, 5) Equipment delivery/pickup on the rental date.",
            "payment options": "We accept bank transfers, credit cards, and digital wallets. Payment is required before equipment pickup/delivery.",
            "cancellation policy": "You can cancel up to 48 hours before your rental date for a full refund. Late cancellations may incur a 20% fee.",
            "delivery options": "We offer delivery for an additional fee based on location. You can also pick up equipment at our warehouse.",
            "insurance": "All rentals include basic damage coverage. Optional premium insurance is available for additional protection.",
            "default": "I'm sorry, I don't have information about that. Please contact our support team at support@gearentpro.com for assistance."
        };

        // Application State
        let cartItems = [];
        let currentCategory = 'all';
        let currentFilter = '';
        let currentAvailability = '';
        let rentalDays = 1;

        // DOM Elements
        const elements = {
            openCartBtn: document.getElementById('openCart'),
            closeCartBtn: document.getElementById('closeCart'),
            cartSidebar: document.getElementById('cartSidebar'),
            overlay: document.getElementById('overlay'),
            cartItemsContainer: document.getElementById('cartItems'),
            cartSubtotalElement: document.getElementById('cartSubtotal'),
            cartTotalElement: document.getElementById('cartTotal'),
            cartCountElement: document.querySelector('.cart-count'),
            rentalDurationElement: document.getElementById('rentalDuration'),
            categoryTabs: document.querySelectorAll('.category-tab'),
            categorySections: document.querySelectorAll('.category-section'),
            equipmentSearch: document.getElementById('equipmentSearch'),
            categoryFilter: document.getElementById('categoryFilter'),
            availabilityFilter: document.getElementById('availabilityFilter'),
            searchBtn: document.getElementById('searchBtn'),
            checkoutBtn: document.getElementById('checkoutBtn'),
            notification: document.getElementById('notification'),
            customerInfoBtn: document.getElementById('customerInfoBtn'),
            customerInfoSection: document.getElementById('customerInfoSection'),
            closeCustomerInfo: document.getElementById('closeCustomerInfo'),
            checkoutName: document.getElementById('checkoutName'),
            checkoutPhone: document.getElementById('checkoutPhone'),
            checkoutCategory: document.getElementById('checkoutCategory'),
            checkoutItem: document.getElementById('checkoutItem'),
            checkoutQuantity: document.getElementById('checkoutQuantity'),
            checkoutDate: document.getElementById('checkoutDate'),
            checkoutDuration: document.getElementById('checkoutDuration'),
            checkoutAddress: document.getElementById('checkoutAddress'),
            checkoutMap: document.getElementById('checkoutMap'),
            checkoutNotes: document.getElementById('checkoutNotes'),
            confirmOrder: document.getElementById('confirmOrder'),
            fabCart: document.getElementById('fabCart'),
            fabBadge: document.querySelector('.fab-badge'),
            backToTop: document.getElementById('backToTop'),
            chatbotButton: document.getElementById('chatbotButton'),
            chatbotWindow: document.getElementById('chatbotWindow'),
            chatbotClose: document.getElementById('chatbotClose'),
            chatbotMessages: document.getElementById('chatbotMessages'),
            chatbotInput: document.getElementById('chatbotInput'),
            chatbotSend: document.getElementById('chatbotSend'),
            quickQuestions: document.querySelectorAll('.quick-question')
        };

        // Initialize the application
        function init() {
            renderEquipment();
            setupEventListeners();
            loadCartFromStorage();
            updateCartDisplay();
            updateFabButton();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Cart interactions
            elements.openCartBtn.addEventListener('click', openCart);
            elements.closeCartBtn.addEventListener('click', closeCart);
            elements.overlay.addEventListener('click', closeCart);
            
            // Customer info section
            elements.customerInfoBtn.addEventListener('click', toggleCustomerInfo);
            elements.closeCustomerInfo.addEventListener('click', toggleCustomerInfo);
            
            // Category tabs
            elements.categoryTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const category = tab.dataset.category;
                    switchCategory(category);
                });
            });
            
            // Search and filters
            elements.searchBtn.addEventListener('click', applyFilters);
            elements.equipmentSearch.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') applyFilters();
            });
            
            // Rental days change
            elements.checkoutDuration.addEventListener('change', (e) => {
                rentalDays = parseInt(e.target.value) || 1;
                elements.rentalDurationElement.textContent = rentalDays === 1 ? '1 day' : `${rentalDays} days`;
                updateCartDisplay();
            });
            
            // Checkout button
            elements.checkoutBtn.addEventListener('click', showCheckoutForm);
            
            // Confirm order button
            elements.confirmOrder.addEventListener('click', submitOrder);
            
            // FAB button
            elements.fabCart.addEventListener('click', openCart);
            
            // Back to top button
            elements.backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    elements.backToTop.classList.add('visible');
                } else {
                    elements.backToTop.classList.remove('visible');
                }
            });
            
            // Chatbot interactions
            elements.chatbotButton.addEventListener('click', toggleChatbot);
            elements.chatbotClose.addEventListener('click', toggleChatbot);
            elements.chatbotSend.addEventListener('click', sendChatbotMessage);
            elements.chatbotInput.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') sendChatbotMessage();
            });
            
            elements.quickQuestions.forEach(question => {
                question.addEventListener('click', (e) => {
                    const questionText = e.target.dataset.question;
                    elements.chatbotInput.value = questionText;
                    sendChatbotMessage();
                });
            });
        }

        // Render equipment
        function renderEquipment() {
            // Featured items (mix of different categories)
            const featuredContainer = document.getElementById('featured-equipment');
            featuredContainer.innerHTML = '';
            
            const featuredItems = [
                equipmentData.speakers.active[0],
                equipmentData.lighting.equipment[0],
                equipmentData.dj.players[0],
                equipmentData.microphones[0],
                equipmentData.accessories.tables[0]
            ];
            
            featuredItems.forEach(item => {
                featuredContainer.appendChild(createEquipmentCard(item));
            });
            
            // Speakers
            renderEquipmentCategory('active-speakers', equipmentData.speakers.active);
            renderEquipmentCategory('passive-speakers', equipmentData.speakers.passive);
            renderEquipmentCategory('speaker-mixers', equipmentData.speakers.mixers);
            
            // Lighting
            renderEquipmentCategory('lighting-equipment', equipmentData.lighting.equipment);
            renderEquipmentCategory('lighting-controllers', equipmentData.lighting.controllers);
            
            // DJ Equipment
            renderEquipmentCategory('dj-players', equipmentData.dj.players);
            renderEquipmentCategory('dj-mixers', equipmentData.dj.mixers);
            renderEquipmentCategory('dj-samplers', equipmentData.dj.samplers);
            
            // Microphones
            renderEquipmentCategory('microphones', equipmentData.microphones);
            
            // Accessories
            renderEquipmentCategory('balloons', equipmentData.accessories.balloons);
            renderEquipmentCategory('fog-effects', equipmentData.accessories.fog);
            renderEquipmentCategory('dj-tables', equipmentData.accessories.tables);
            renderEquipmentCategory('screens', equipmentData.accessories.screens);
        }

        // Render equipment category
        function renderEquipmentCategory(containerId, items) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            // Apply filters
            let filteredItems = [...items];
            
            if (currentFilter) {
                const filterLower = currentFilter.toLowerCase();
                filteredItems = filteredItems.filter(item => 
                    item.name.toLowerCase().includes(filterLower) || 
                    (item.details && item.details.toLowerCase().includes(filterLower))
                );
            }
            
            if (currentAvailability === 'in-stock') {
                filteredItems = filteredItems.filter(item => item.stock > 3);
            } else if (currentAvailability === 'low-stock') {
                filteredItems = filteredItems.filter(item => item.stock > 0 && item.stock <= 3);
            }
            
            if (filteredItems.length === 0) {
                container.innerHTML = '<div class="empty-state"><p>No equipment matches your filters</p></div>';
                return;
            }
            
            filteredItems.forEach(item => {
                container.appendChild(createEquipmentCard(item));
            });
        }

        // Create equipment card
        function createEquipmentCard(item) {
            const stockStatus = getStockStatus(item.stock);
            const cartQuantity = getCartItemQuantity(item.id);
            
            const card = document.createElement('div');
            card.className = 'equipment-card';
            card.innerHTML = `
                <div class="card-image">
                    <span class="stock-badge ${stockStatus.class}">${stockStatus.text}</span>
                    <i class="fas fa-box-open" style="font-size: 36px;"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">${item.name}</h3>
                    <p class="card-details">${item.details || 'Professional equipment'}</p>
                    <div class="card-price">$${item.price.toFixed(2)}/day</div>
                    <div class="quantity-control">
                        <button class="quantity-btn decrease" data-id="${item.id}" ${cartQuantity === 0 ? 'disabled' : ''}>-</button>
                        <input type="number" class="quantity-input" min="0" max="${item.stock}" value="${cartQuantity}" data-id="${item.id}">
                        <button class="quantity-btn increase" data-id="${item.id}" ${cartQuantity >= item.stock ? 'disabled' : ''}>+</button>
                    </div>
                </div>
            `;
            
            // Add event listeners
            const decreaseBtn = card.querySelector('.decrease');
            const increaseBtn = card.querySelector('.increase');
            const quantityInput = card.querySelector('.quantity-input');
            
            decreaseBtn.addEventListener('click', () => {
                const newValue = parseInt(quantityInput.value) - 1;
                if (newValue >= 0) {
                    quantityInput.value = newValue;
                    updateCart(item.id, newValue);
                }
            });
            
            increaseBtn.addEventListener('click', () => {
                const newValue = parseInt(quantityInput.value) + 1;
                if (newValue <= item.stock) {
                    quantityInput.value = newValue;
                    updateCart(item.id, newValue);
                }
            });
            
            quantityInput.addEventListener('change', () => {
                const newValue = parseInt(quantityInput.value);
                if (newValue >= 0 && newValue <= item.stock) {
                    updateCart(item.id, newValue);
                } else {
                    quantityInput.value = cartQuantity;
                }
            });
            
            return card;
        }

        // Get stock status
        function getStockStatus(stock) {
            if (stock === 0) {
                return { class: 'out-of-stock', text: 'Out of stock' };
            } else if (stock <= 3) {
                return { class: 'low-stock', text: `Low stock (${stock})` };
            } else {
                return { class: 'in-stock', text: `In stock (${stock})` };
            }
        }

        // Get cart item quantity
        function getCartItemQuantity(itemId) {
            const item = cartItems.find(item => item.id === itemId);
            return item ? item.quantity : 0;
        }

        // Update cart
        function updateCart(itemId, quantity) {
            quantity = parseInt(quantity);
            
            // Find the item in our data
            const item = findEquipmentById(itemId);
            if (!item) return;
            
            // Update or remove the item
            const existingItemIndex = cartItems.findIndex(item => item.id === itemId);
            
            if (quantity === 0) {
                if (existingItemIndex >= 0) {
                    cartItems.splice(existingItemIndex, 1);
                }
            } else {
                if (existingItemIndex >= 0) {
                    cartItems[existingItemIndex].quantity = quantity;
                } else {
                    cartItems.push({
                        id: itemId,
                        name: item.name,
                        details: item.details,
                        price: item.price,
                        quantity: quantity
                    });
                }
            }
            
            // Show notification if adding to cart
            if (quantity > 0 && (existingItemIndex < 0 || cartItems[existingItemIndex].quantity < quantity)) {
                showNotification(`${item.name} added to cart`);
            }
            
            saveCartToStorage();
            updateCartDisplay();
            updateEquipmentCards();
            updateFabButton();
        }

        // Find equipment by ID
        function findEquipmentById(itemId) {
            for (const category in equipmentData) {
                if (category === 'speakers' || category === 'lighting' || category === 'dj' || category === 'accessories') {
                    for (const subCategory in equipmentData[category]) {
                        const found = equipmentData[category][subCategory].find(item => item.id === itemId);
                        if (found) return found;
                    }
                } else if (Array.isArray(equipmentData[category])) {
                    const found = equipmentData[category].find(item => item.id === itemId);
                    if (found) return found;
                }
            }
            return null;
        }

        // Update cart display
        function updateCartDisplay() {
            // Update cart count
            const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
            elements.cartCountElement.textContent = totalItems;
            
            // Update cart items
            if (cartItems.length === 0) {
                elements.cartItemsContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-shopping-cart empty-icon"></i>
                        <p>Your cart is empty</p>
                        <p>Add some equipment to get started</p>
                    </div>
                `;
                elements.cartSubtotalElement.textContent = '$0.00';
                elements.cartTotalElement.textContent = '$0.00';
                return;
            }
            
            elements.cartItemsContainer.innerHTML = '';
            
            let subtotal = 0;
            
            cartItems.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.innerHTML = `
                    <div class="cart-item-image">
                        <i class="fas fa-box-open" style="font-size: 24px;"></i>
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-title">${item.name}</h4>
                        <p class="cart-item-desc">${item.details || 'Professional equipment'}</p>
                        <div class="cart-item-price">$${item.price.toFixed(2)} × ${item.quantity} = $${itemTotal.toFixed(2)}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${item.id}">+</button>
                        </div>
                        <div class="cart-item-remove" data-id="${item.id}">Remove</div>
                    </div>
                `;
                
                // Add event listeners
                const decreaseBtn = itemElement.querySelector('.decrease');
                const increaseBtn = itemElement.querySelector('.increase');
                const removeBtn = itemElement.querySelector('.cart-item-remove');
                
                decreaseBtn.addEventListener('click', () => {
                    const newValue = item.quantity - 1;
                    if (newValue >= 0) {
                        updateCart(item.id, newValue);
                    }
                });
                
                increaseBtn.addEventListener('click', () => {
                    const newValue = item.quantity + 1;
                    const stock = getItemStock(item.id);
                    if (newValue <= stock) {
                        updateCart(item.id, newValue);
                    }
                });
                
                removeBtn.addEventListener('click', () => {
                    updateCart(item.id, 0);
                });
                
                elements.cartItemsContainer.appendChild(itemElement);
            });
            
            const total = subtotal * rentalDays;
            
            elements.cartSubtotalElement.textContent = `$${subtotal.toFixed(2)}`;
            elements.cartTotalElement.textContent = `$${total.toFixed(2)}`;
        }

        // Update all equipment cards to reflect current cart quantities
        function updateEquipmentCards() {
            document.querySelectorAll('.quantity-input').forEach(input => {
                const itemId = input.dataset.id;
                const quantity = getCartItemQuantity(itemId);
                input.value = quantity;
                
                // Update button states
                const equipment = findEquipmentById(itemId);
                if (equipment) {
                    const decreaseBtn = input.previousElementSibling;
                    const increaseBtn = input.nextElementSibling;
                    
                    decreaseBtn.disabled = quantity === 0;
                    increaseBtn.disabled = quantity >= equipment.stock;
                }
            });
        }

        // Update FAB button
        function updateFabButton() {
            const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
            elements.fabBadge.textContent = totalItems;
            if (totalItems > 0) {
                elements.fabBadge.style.display = 'flex';
            } else {
                elements.fabBadge.style.display = 'none';
            }
        }

        // Get item stock
        function getItemStock(itemId) {
            const item = findEquipmentById(itemId);
            return item ? item.stock : 0;
        }

        // Apply filters
        function applyFilters() {
            currentFilter = elements.equipmentSearch.value;
            currentCategory = elements.categoryFilter.value;
            currentAvailability = elements.availabilityFilter.value;
            
            // If a specific category is selected, switch to that tab
            if (currentCategory) {
                switchCategory(currentCategory);
            } else {
                renderEquipment();
            }
        }

        // Switch category
        function switchCategory(category) {
            currentCategory = category;
            
            // Update active tab
            elements.categoryTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.category === category) {
                    tab.classList.add('active');
                }
            });
            
            // Show corresponding section
            elements.categorySections.forEach(section => {
                section.classList.remove('active');
                if (section.id === `${category}-section`) {
                    section.classList.add('active');
                }
            });
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Render the category
            renderEquipment();
        }

        // Open cart
        function openCart() {
            elements.cartSidebar.classList.add('open');
            elements.overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close cart
        function closeCart() {
            elements.cartSidebar.classList.remove('open');
            elements.overlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Toggle customer info section
        function toggleCustomerInfo() {
            elements.customerInfoSection.style.display = elements.customerInfoSection.style.display === 'none' ? 'block' : 'none';
            elements.overlay.classList.toggle('active');
            document.body.style.overflow = elements.customerInfoSection.style.display === 'block' ? 'hidden' : '';
        }

        // Show checkout form
        function showCheckoutForm() {
            if (cartItems.length === 0) {
                showNotification('Please add items to your cart first');
                return;
            }
            
            // Auto-fill some fields
            if (cartItems.length === 1) {
                const item = cartItems[0];
                const category = findCategoryForItem(item.id);
                elements.checkoutItem.value = item.name;
                elements.checkoutCategory.value = category;
                elements.checkoutQuantity.value = item.quantity;
            } else {
                elements.checkoutItem.value = `${cartItems.length} items`;
                elements.checkoutCategory.value = 'Multiple';
                elements.checkoutQuantity.value = cartItems.reduce((total, item) => total + item.quantity, 0);
            }
            
            elements.checkoutDuration.value = rentalDays;
            
            toggleCustomerInfo();
        }

        // Find category for an item
        function findCategoryForItem(itemId) {
            for (const category in equipmentData) {
                if (category === 'speakers' || category === 'lighting' || category === 'dj' || category === 'accessories') {
                    for (const subCategory in equipmentData[category]) {
                        const found = equipmentData[category][subCategory].find(item => item.id === itemId);
                        if (found) return category.charAt(0).toUpperCase() + category.slice(1);
                    }
                } else if (Array.isArray(equipmentData[category])) {
                    const found = equipmentData[category].find(item => item.id === itemId);
                    if (found) return category.charAt(0).toUpperCase() + category.slice(1);
                }
            }
            return 'General';
        }

        // Show notification
        function showNotification(message) {
            elements.notification.textContent = message;
            elements.notification.classList.add('show');
            
            setTimeout(() => {
                elements.notification.classList.remove('show');
            }, 3000);
        }

        // Save cart to localStorage
        function saveCartToStorage() {
            localStorage.setItem('equipmentCart', JSON.stringify(cartItems));
        }

        // Load cart from localStorage
        function loadCartFromStorage() {
            const savedCart = localStorage.getItem('equipmentCart');
            if (savedCart) {
                cartItems = JSON.parse(savedCart);
            }
        }

        // Submit order
        function submitOrder() {
            if (cartItems.length === 0) {
                alert('Please select at least one item before submitting.');
                return;
            }
            
            // Validate customer information
            const customerName = elements.checkoutName.value.trim();
            const customerPhone = elements.checkoutPhone.value.trim();
            const eventDate = elements.checkoutDate.value;
            const deliveryAddress = elements.checkoutAddress.value.trim();
            
            if (!customerName || !customerPhone || !eventDate || !deliveryAddress) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Validate date is in the future
            const today = new Date().toISOString().split('T')[0];
            if (eventDate < today) {
                alert('Rental date must be in the future.');
                return;
            }
            
            // Prepare order data
            const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal * rentalDays;
            
            const orderData = {
                customer: {
                    name: customerName,
                    phone: customerPhone,
                    rentalDate: eventDate,
                    rentalDays: rentalDays,
                    deliveryAddress: deliveryAddress,
                    mapLink: elements.checkoutMap.value.trim(),
                    notes: elements.checkoutNotes.value.trim()
                },
                items: cartItems,
                subtotal: subtotal,
                total: total
            };
            
            // Show loading state
            elements.confirmOrder.disabled = true;
            elements.confirmOrder.querySelector('.btn-text').textContent = 'Processing...';
            elements.confirmOrder.querySelector('.spinner').classList.remove('hidden');
            
            // Simulate API call
            setTimeout(() => {
                // In a real application, you would send this to a server
                console.log('Order submitted:', orderData);
                
                // Show success message
                alert('Order submitted successfully! We will contact you shortly to confirm details.');
                
                // Reset form
                elements.confirmOrder.disabled = false;
                elements.confirmOrder.querySelector('.btn-text').textContent = 'Confirm Order';
                elements.confirmOrder.querySelector('.spinner').classList.add('hidden');
                
                // Clear the cart
                cartItems = [];
                saveCartToStorage();
                updateCartDisplay();
                updateEquipmentCards();
                updateFabButton();
                
                // Close cart and customer info
                closeCart();
                elements.customerInfoSection.style.display = 'none';
                elements.overlay.classList.remove('active');
                document.body.style.overflow = '';
                
                // Reset form fields
                elements.checkoutName.value = '';
                elements.checkoutPhone.value = '';
                elements.checkoutDate.value = '';
                elements.checkoutAddress.value = '';
                elements.checkoutMap.value = '';
                elements.checkoutNotes.value = '';
            }, 1500);
        }

        // Toggle chatbot
        function toggleChatbot() {
            elements.chatbotWindow.classList.toggle('open');
        }

        // Send chatbot message
        function sendChatbotMessage() {
            const message = elements.chatbotInput.value.trim();
            if (!message) return;
            
            // Add user message
            addChatbotMessage(message, 'user');
            elements.chatbotInput.value = '';
            
            // Simulate bot thinking
            setTimeout(() => {
                const response = getChatbotResponse(message);
                addChatbotMessage(response, 'bot');
                
                // Scroll to bottom
                elements.chatbotMessages.scrollTop = elements.chatbotMessages.scrollHeight;
            }, 500);
        }

        // Add chatbot message
        function addChatbotMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chatbot-message ${sender}-message`;
            messageDiv.textContent = text;
            elements.chatbotMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            elements.chatbotMessages.scrollTop = elements.chatbotMessages.scrollHeight;
        }

        // Get chatbot response
        function getChatbotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check for specific questions
            for (const [keyword, response] of Object.entries(chatbotKnowledge)) {
                if (lowerMessage.includes(keyword)) {
                    return response;
                }
            }
            
            // Default response
            return chatbotKnowledge.default;
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
